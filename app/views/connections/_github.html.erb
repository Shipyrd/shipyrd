<div>
  <p>
    Shipyrd utilizes the GitHub API to fetch your <code>deploy.yml</code> file to run the correct Kamal commands for your application and optionally create deployments events on GitHub for you.
  </p>

  <p>
  To connect Shipyrd to your GitHub repository:
  </p>

  <p>
    <ol>
      <li>Create a new <a href="https://github.com/settings/personal-access-tokens/new" target="_blank">fine-grained personal access token</a> on GitHub with the following scopes:
        <ul>
          <li>Username: <%= @application.repository_username %></li>
          <li>Repository: <%= link_to @application.repository_name, @application.repository_url, target: "_blank" %></li>
          <li>Contents: Read-only</li>
          <li>Deployments: Read and write</li>
          <li>Metadata: Read-only</li>
        </ul>
      </li>
      <li>
        Enter the new token below and click "Connect to GitHub".

        <p>
          <%= form.text_field :key, class: "w-full" %>
        </p>

        <%= form.submit "Connect to GitHub" %>
      </li>
    </ol>
  </p>
</div>